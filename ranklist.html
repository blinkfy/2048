<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ÊéíË°åÊ¶ú</title>
    <!-- <link rel="stylesheet" href="text.css" /> -->
</head>
<style>
    body {
        margin: 0;
        padding: 0;
        font-family: "Clear Sans", "Helvetica Neue", Arial, sans-serif;
        font-size: 18px;
        color: #d2c7dd;
        background-color: #1f2739;
    }

    .sig {
        width: 80px;
        height: 30px;
        border-radius: 10px;
        background-color: #b19f00;
        border-color: #fff;
        color: #ffffff;
    }

    .bg-dark {
        background-color: #343a40 !important;
        padding: 1rem !important;
    }

    .p-4 {
        padding: 0.5rem !important;
    }

    .text-center {
        text-align: center !important
    }

    .text-white {
        color: #fff !important
    }




    @import url(https://fonts.googleapis.com/css?family=Open+Sans:300,400,700);



    h1 {
        font-size: 3em;
        font-weight: 300;
        line-height: 1em;
        text-align: center;
        color: #4DC3FA;
    }

    h2 {
        font-size: 1em;
        font-weight: 300;
        text-align: center;
        display: block;
        line-height: 1em;
        padding-bottom: 2em;
        color: #FB667A;
    }

    h2 a {
        font-weight: 700;
        text-transform: uppercase;
        color: #FB667A;
        text-decoration: none;
    }

    .blue {
        color: #185875;
    }

    .yellow {
        color: #FFF842;
    }

    .container th h1 {
        font-weight: bold;
        font-size: 1em;
        text-align: left;
        color: #185875;
    }

    .container td {
        font-weight: normal;
        font-size: 1em;
        -webkit-box-shadow: 0 2px 2px -2px #0E1119;
        -moz-box-shadow: 0 2px 2px -2px #0E1119;
        box-shadow: 0 2px 2px -2px #0E1119;
    }

    .container {
        text-align: left;
        overflow: hidden;
        width: 85%;
        margin: 0 auto;
        display: table;
        padding: 0 0 8em 0;
    }

    .container td,
    .container th {
        padding-bottom: 2%;
        padding-top: 2%;
        padding-left: 2%;
    }

    /* Background-color of the odd rows */
    .container tr:nth-child(odd) {
        background-color: #323C50;
    }

    /* Background-color of the even rows */
    .container tr:nth-child(even) {
        background-color: #2C3446;
    }

    .container th {
        background-color: #1F2739;
    }

    .container td:first-child {
        color: #FB667A;
    }

    .container tr:hover {
        background-color: #464A52;
        -webkit-box-shadow: 0 6px 6px -6px #0E1119;
        -moz-box-shadow: 0 6px 6px -6px #0E1119;
        box-shadow: 0 6px 6px -6px #0E1119;
    }

    .container td:hover {
        background-color: #FFF842;
        color: #403E10;
        font-weight: bold;

        box-shadow: #7F7C21 -1px 1px, #7F7C21 -2px 2px, #7F7C21 -3px 3px, #7F7C21 -4px 4px, #7F7C21 -5px 5px, #7F7C21 -6px 6px;
        transform: translate3d(6px, -6px, 0);

        transition-delay: 0s;
        transition-duration: 0.4s;
        transition-property: all;
        transition-timing-function: line;
    }

    @media (max-width: 1024px) {
        .container {
            width: 90%;
            padding: 0 0 4em 0;
        }
    }

    @media (max-width: 768px) {
        .container {
            width: 95%;
            padding: 0 0 2em 0;
        }

        .container td:nth-child(4),
        .container th:nth-child(4) {
            display: none;
        }

        h1 {
            font-size: 2em;
        }

        h2 {
            font-size: 0.9em;
            padding-bottom: 1em;
        }
    }

    @media (max-width: 576px) {
        .container {
            width: 98%;
            padding: 0 0 1.5em 0;
        }
        
        .container td,
        .container th {
            padding-bottom: 1.5%;
            padding-top: 1.5%;
            padding-left: 1.5%;
        }

        .container td:nth-child(3),
        .container th:nth-child(3),
        .container td:nth-child(4),
        .container th:nth-child(4) {
            display: none;
        }

        h1 {
            font-size: 1.5em;
            margin: 0.3em 0;
        }

        h2 {
            font-size: 0.85em;
            padding-bottom: 0.8em;
        }

        header {
            padding: 0.8rem !important;
        }

        .sig {
            width: 65px;
            height: 28px;
            font-size: 13px;
        }
    }
</style>


<body>
    <header class="bg-dark text-white text-center p-4">
        <button type="button" class="sig" style="float:left" onclick="goback()">üîôËøîÂõû</button>
        <h1>
            <span style="color: rgba(255, 230, 0, 0.863);"></span>
            <span style="color: rgba(167, 208, 255);">2048ÊéíË°åÊ¶ú‚Äî‚Äî</span>
            <span style="color: rgba(239, 198, 255);">
                <string>ÊÄªÊ¶ú</string>
            </span>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        </h1>
    </header>
    <section class="container mt-5" id="leaderboard">
        <table id="output" class="container"></table>
    </section>
</body>
<script>

    try {
        var userName = decodeURIComponent(atob(getParameter("uid")));
    }
    catch (err) {
        var userName = "none";
    }
    if (userName == "") {
        userName = "none";
    }
    if (userName == "none" || userName != localStorage.getItem('username')) {
        alert("ÊúâËØ∑‰∏ã‰∏ÄÁªÑÊèêÈÜíÊÇ®ÔºåÊÇ®ËøòÊú™ÁôªÂΩïÔºÅ");
        window.location.href = "index.html";
    }
    if (getDay() != localStorage.getItem('loginday')) {
        alert("ÁôªÂΩïÂ∑≤ËøáÊúü");
        window.location.href = "index.html?uid=" + btoa(encodeURIComponent(username));
        username = "none";
    }

    getcsv();
    function getcsv() {
        var xhttp = new XMLHttpRequest();
        xhttp.onreadystatechange = function () {
            if (this.readyState == 4 && this.status == 200) {
                const csv = this.responseText;
                const lines = csv.split('\n');
                const headers = lines[0].split(',');
                const data = lines.slice(1).map(line => line.split(','));

                output.innerHTML = `
          <table>
            <thead style="color:rgba(170, 228, 255, 0.9)">
              <tr>
                ${headers.map(header => `<th>${decodeURIComponent(header)}</th>`).join('')}
              </tr>
            </thead>
            <tbody>
              ${data.map(row => `
                <tr>
                  ${row.map(cell => `<td>${decodeURIComponent(cell)}</td>`).join('')}
                </tr>
              `).join('')}
            </tbody>
            </table>
          `;
            }
        };
        xhttp.open("POST", "getwholerank=999,name=" + userName + ";", true);
        xhttp.send();
    }

    function getDay() {
        const now = new Date();
        const day = '.' + ('0' + now.getDate()).slice(-2);
        return day;
    }

    function goback() {
        var backlink = document.referrer;
        if (backlink.slice(backlink.search("html") - 9, backlink.search("html") - 1) == "ranklist") {
            backlink = "home.html";
        }
        if ((userName) == "none" || (backlink.search("uid") != -1)) {
            window.location.href = backlink;
        } else {
            window.location.href = backlink + "?uid=" + btoa(encodeURIComponent(userName));
        }
    }

    function getParameter(name) {
        var reg = new RegExp("(^|&)" + name + "=([^&]*)(&|$)"); // ÊûÑÂª∫‰∏Ä‰∏™Âê´ÊúâÁõÆÊ†áÂèÇÊï∞ÁöÑÊ≠£ÂàôË°®ËææÂºèÂØπË±°
        var r = window.location.search.substr(1).match(reg); // ÂåπÈÖçÁõÆÊ†áÂèÇÊï∞
        if (r != null) {
            if (unescape(r[2]) == "null" || unescape(r[2]) == "none") {
                return "";
            }
            return unescape(r[2]);
        } else {
            return "";
        }
    }




</script>

</html>